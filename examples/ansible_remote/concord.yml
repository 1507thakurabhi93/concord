configuration:
  dependencies:
  - "mvn://com.walmartlabs.concord.plugins.basic:ansible-tasks:0.47.0"

flows:
  default:
  - task: ansible
    in:
      # remote user
      user: "ibodrov"

      # export the secret using the provided name and password
      privateKey:
        secretName: "concordSecret"
        password: "q1"

      # location of the playbook
      playbook: playbook/hello.yml

      # inventory data, should match the playbook's host groups
      inventory:
        local:
          hosts:
          - "build.dev.ibodrov.devtools.prod.walmart.com"

      # pass additional variables to the playbook
      extraVars:
        greetings: "Hi there!"

forms:
  authForm:
  # the secret's password
  - secretName: {type: "string", label: "Secret name"}
  - password: {type: "string", inputType: "password", label: "Password"}

